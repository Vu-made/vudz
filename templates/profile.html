<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/static/profile_full.css">
</head>
<body>
    <div id="main">
        <div id="profile-container">
            <div id="avatar-container">
                <img src="./avatar" alt="" id="avatar">
                <h1> {{ full_name }} </h1>
                <label>{{ interest }}</label>
                <div id="btn-item">
                    <button class="btn-item" > <a href="/logout">ƒëƒÉng xu·∫•t</a></button>
                    <button class="btn-item" > <a href="/edit_profile">ch·ªânh s·ª≠a th√¥ng tin</a> </button>
                    <button class="btn-item" > <a href="/"> quay v·ªÅ trang ch·ªß</a></button>
                </div>
            </div>
            <div id="info-profile">
                <div>
                    <h2>Th√¥ng tin c√° nh√¢n </h2>
                </div>
                <div>
                    <h3>Email: {{ email }} </h3>
                    <h3>ƒê·ªãa ch·ªâ: {{address}} </h3>
                    <h3>Ng√†y sinh : {{ date }}</h3>
                    <h2>
                        M·ª•c ti√™u
                    </h2>
                </div>
                <h3>{{ target }}</h3>
            </div>
            <div id="post-container">
                <div id="nav-tab">
                    <div class="nav-tab-item active" onclick="switchTab('normal-post' , this )">‚úèÔ∏è b√†i vi·∫øt </div>
                    <div class="nav-tab-item" onclick="switchTab('exercise' , this )">üìó b√†i t·∫≠p</div>
                    <div class="nav-tab-item" onclick="switchTab('contest' , this )">üî• cu·ªôc thi</div>
                </div>
                <div id="post-content">
                     <div class="post-content-item active" id="normal-post">
                         <div id="post-space">
                            <h2>T·∫°o b√†i vi·∫øt</h2>
                            <textarea name="content" id="write-content" placeholder="Vi·∫øt g√¨ ƒë√≥....."></textarea>
                            <input type="file" multiple accept="image/*" class="file-input" id="imageInput">
                            <div class="image-preview" id="preview"></div>
                            <button class="submit">ƒëƒÉng </button>
                        </div>
                    </div>
                    <div class="post-content-item" id="exercise">
                        <h2>
                            V√¨ V≈© kh√¥ng ƒëc th√¥ng minh l·∫Øm<br>n√™n mong m·ªçi ng∆∞·ªùi th√¥ng c·∫£m<br>·∫•n n√∫t ·ªü b√™n d∆∞·ªõi ƒë·ªÉ ƒë·∫øn ch·ªó <br> T·∫°o b√†i t·∫≠p
                        </h2>
                        <button class="btn-item"><a href="/create-exercise">T·∫°o b√†i t·∫≠p</a></button>
                    </div>
                    <div class="post-content-item" id="contest">
                        <h2>
                            V√¨ V≈© kh√¥ng ƒëc th√¥ng minh l·∫Øm<br>n√™n mong m·ªçi ng∆∞·ªùi th√¥ng c·∫£m<br>·∫•n n√∫t ·ªü b√™n d∆∞·ªõi ƒë·ªÉ ƒë·∫øn ch·ªó <br> T·∫°o cu·ªôc thi
                        </h2>
                        <button class="btn-item"><a href="/create-contest">T·∫°o cu·ªôc thi</a></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    function switchTab( id , e ) 
    {
        document.querySelectorAll('.nav-tab-item').forEach(element => {
            element.classList.remove("active");
        });
        document.querySelectorAll('.post-content-item').forEach( element =>{
            element.classList.remove("active");
        });
        document.getElementById(id).classList.add("active") ;
        e.classList.add("active"); 
    }

    const imageInput = document.getElementById('imageInput');
    const preview = document.getElementById('preview');
    let selectedFiles = [];

    imageInput.addEventListener('change', function () {
      const newFiles = Array.from(this.files);
      selectedFiles = selectedFiles.concat(newFiles);
      renderPreviews();
    });

    function renderPreviews() {
      preview.innerHTML = '';
      selectedFiles.forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = function (e) {
          const container = document.createElement('div');
          container.classList.add('preview-img-container');

          const img = document.createElement('img');
          img.src = e.target.result;
          img.classList.add('preview-img');

          const removeBtn = document.createElement('button');
          removeBtn.innerText = '√ó';
          removeBtn.classList.add('remove-btn');
          removeBtn.onclick = () => {
            selectedFiles.splice(index, 1);
            renderPreviews();
          };

          container.appendChild(img);
          container.appendChild(removeBtn);
          preview.appendChild(container);
        };
        reader.readAsDataURL(file);
      });
    }
</script>
</html>